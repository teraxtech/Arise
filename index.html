<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<link rel="icon" type="image/png" href="/favicon.png" sizes="16x16">
	<title>Arise</title>
	
	<link href="Arise.css" rel="stylesheet" type="text/css">
	<link href="AriseLight.css" rel="stylesheet" type="text/css" id="LightTheme">
	<link href="AriseDark.css" rel="stylesheet" type="text/css" id="DarkTheme">
</head>
<body>
	<div id="title">
		<a id="link" href="../../">
			<h3>Silver Simulations</h3>
		</a>
	</div>
	<canvas oncontextmenu="return false" id="ourCanvas" tabindex="1">
		This site requires Javascript to run properly. Enable Javascript if you wish to use this site
	</canvas>
	<div id="top" class="noBorder" style="inline-block">
		<div id="Button0">
			<button class="mainButton" id="draw" onclick="draw()">Draw</button>
			<div class="dropdown" id="drawMenu">
				<button class="dropdown-button">Auto</button>
				<div class="dropdown-content">
					<button onclick="changeOption(this)" style="display: none;">Auto</button>
					<button onclick="changeOption(this)">0</button>
					<button onclick="changeOption(this)">1</button>
				</div>
			</div>
		</div>
		<button class="mainButton" id="Button1" onclick="move()">Move</button>
		<button class="mainButton" id="Button2" onclick="select()">Select</button>
		<div class="dropdown">
			<button class="dropdown-button">Other Actions</button>
			<div class="dropdown-content">
				<button onclick="selectAll()">Select All</button>
				<button onclick="fitView()">Fit View</button>
				<button onclick="currentEvent = paste();render()">Paste</button>
				<button class="markerDependent"  onclick="deleteMarker();currentEvent=new EventNode(currentEvent);">Delete Marker</button>
				<button class="selectDependent"  onclick="cut();currentEvent=new EventNode(currentEvent);">Cut</button>
				<button class="selectDependent" onclick="copy()">Copy</button>
				<button class="selectDependent"  onclick="randomizeGrid();currentEvent=new EventNode(currentEvent);">Randomize</button>
				<button class="selectDependent"  onclick="clearGrid();currentEvent=new EventNode(currentEvent);">Clear</button>
				<button class="selectDependent"  onclick="setMark()">Set Marker</button>
				<button class="selectDependent"  onclick="invertGrid();currentEvent=new EventNode(currentEvent);">Invert</button>
			</div>
		</div>
		<button class="mainButton" onclick="next()">Next Generation</button>
		<button class="mainButton" onclick="start()">Start/Stop</button>
		<div id="undo">
			<button class="mainButton" onclick="undo()">Undo</button>
			<button class="mainButton" onclick="redo()">Redo</button>
			<button class="mainButton" onclick="reset(resetStop);resetActions()">reset</button>
		</div>
		<div id="gens">Generation 0</div>
	</div>

	<div id="bottom" class="noBorder">
		<table class="noBorder">
			<tr class="line">
				<td>Rule</td>
				<td><input type="text" id="rule" placeholder="S#/B#/G#" onchange="save()" /></td>
			</tr>
			<!--<tr class="line ">
				<td>Interval Between Updates</td>
				<td><input type="text" id="interval" placeholder="time(ms)"></td>
			</tr>-->
			<tr class="line">
				<td>Generations Per Update</td>
				<td><input type="text" id="step" placeholder="integer(eg. 1,3,20)" onchange="save()" /></td>
			</tr>
		</table>

		<button class="mainButton" onclick="menu(1)" id="mbtn">
			<div id="arrow1">&#x27A1;</div>
			More Options:
		</button>
			<div id="menu1" class="borderColor">
				<div id="population">Population 0.</div>
				<br />
				Use copy slot
				<div class="dropdown" id="copyMenu">
					<button class="dropdown-button">1</button>
					<div class="dropdown-content">
						<button onclick="changeOption(this)" style="display: none;">1</button>
						<button onclick="changeOption(this)">2</button>
					</div>
				</div>
				<h4>Grid Options</h4>
				<div class="tab">
					<input type="checkbox" id="gridLines" onclick="render()" checked>
					Enable Grid Lines
					<br>
					<input type="checkbox" id="antiStrobing" onclick="render()" checked>
					Prevent Strobing in B0 Rules
					<br>
					<input type="checkbox" id="debugVisuals" onclick="render()">
					Enable Debugging Visuals
					<br>
					<input type="checkbox" id="resetStop" checked>
					Pause simulation when user resets grid
					<br>
					<br>
					<div class="dropdown" id="gridMenu">
						<button class="dropdown-button">Infinte</button>
						<div class="dropdown-content">
							<button onclick="changeOption(this)" style="display: none;">Infinite</button>
							<button onclick="changeOption(this)">Finite</button>
							<button onclick="changeOption(this)">Toroidal</button>
						</div>
					</div>
					grid
					<br><!--
					<br>
					<div class="dropdown" id="connection">
						<button class="dropdown-button">Private</button>
						<div class="dropdown-content">
							<button onclick="changeOption(this)" style="display: none;">Private</button>
							<button onclick="changeOption(this)">Public</button>
						</div>
					</div>-->
				</div>
				<h4>Randomize Options</h4>
				<div class="tab">
					Density of Live Cells
					<br />
					<div id="percent">50%</div>
					<input type="range" min="0" max="100" value="50" id="density" /> <br />
					<!--
					<br>Symmetries:
					<br><input type="radio" name="symmetries" id="c1" checked>C1
					<br><input type="radio" name="symmetries" id="d2h">D_2(-)
					<br><input type="radio" name="symmetries" id="d2v">D_2(|)
					<br><input type="radio" name="symmetries" id="d4">D_4
					<br>
					<br><input type="checkbox" id="inverse">
					Invert across lines of symmetry
					<br>
					<br>Randomize within marker<input type="text" placeholder="#" id="markerNumber"></input>-->
				</div>
				<h4>Search Options</h4>
				<div class="tab">
					Vertical space between saved patterns <input type="text" value="8" id="rleSpace" style="width:40px">
					<br>
					<br>
					<input type="checkbox" id="userTrigger">
					Allow user reset to trigger search actions
				</div>
				<div id="searchOptions">
					<div class="option">
						<button onclick="deleteOption(this)" class="minus"><h2>-</h2></button>
						<div class="expression">
							<div class="dropdown">
								<button class="dropdown-button"></button>
								<div class="dropdown-content">
									<button onclick="changeOption(this);">Reset</button>
									<button onclick="changeOption(this);">Shift And Paste</button>
									<button onclick="changeOption(this);">Randomize</button>
									<button onclick="changeOption(this);">Save Pattern</button>
									<button onclick="changeOption(this);">Generate Salvo</button>
								</div>
							</div>
							<div class="conditionTerm" style="display: inline-block;">
								<!spot for text and conditions-->
							</div>
						</div>
					</div>
				</div>
				<h4>Miscellaneous Options:</h4>
				<div class="tab">
					<button onclick="identify()" id="identify" class="mainButton">Identify Pattern</button>
					<div id="identifyOutput"></div>
					<br>
					<input type="checkbox" id="darkTheme" onclick="setDark()" checked>
					Enable Dark 
					<br>
					<br><button class=mainButton onclick="exportOptions()">Export Options</button>
					<br>
					<a id="settingsExport" style="word-break: break-all;"></a>
				</div>
			</div>
			<br>

			<div id="rleArea">
				<button class="mainButton" onclick="importRLE()">Import RLE</button>
				<button class="mainButton" onclick="document.getElementById('rle').value=exportRLE()">Export RLE</button>
				<button class="mainButton" onclick="clearRLE()">Clear</button>
				<button class="mainButton" onclick="copyRLE()">Copy</button>
				<br>
				<textarea id="rle" rows="10" cols="40"></textarea>
			</div>
		</div>

		<div style="display: block;">
			<p style="clear: left;">This is a simulator for outer-totalistic, generations, elementary, and non-isotropic rules made with HTML5, CSS, and Javascript.</p>

			<p>
				When in select mode, select an area by clicking then dragging the edges. Randomize, clear, and copy will only affect the highlighted area. Clicking paste once will show you the copied pattern and clicking paste again will place the
				pattern. reset will put the simulation in the state before it was played.
			</p>

			<p>Keyboard Controls:</p>
			<div class="tab">
			<p><b>Enter</b> to start/stop</p>
			<p><b>n</b> to play next generation</p>
			<p><b>WASD</b> Keys to navigate</p>
			<p><b>r</b> to randomize</p>
			<p><b>k</b> to clear</p>
			<p><b>i</b> to invert states 0 and 1</p>
			<p><b>+</b> or <b>=</b> to zoom in</p>
			<p><b>-</b> or <b>_</b> to zoom out</p>
			<p><b>f</b> to fit the window to the pattern</p>
			<p><b>1</b> to enter draw mode</p>
			<p><b>2</b> to enter move mode</p>
			<p><b>3</b> to enter select mode</p>
			<p><b>x</b> to cut</p>
			<p><b>c</b> to copy</p>
			<p><b>v</b> to paste</p>
			<p><b>z</b> to undo</p>
			<p><b>z</b> and <b>shift</b> to redo</p>
			<p><b>t</b> to reset the pattern</p>

			<p>The source code for this webpage is available <a href="https://github.com/teraxtech/Arise">here</a></p>
		</div>
	</div>
	<script src="/socket.io/socket.io.js"></script>
	<script src="Arise.js"></script>
</body>
</html>
