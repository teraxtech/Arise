<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<style>
	html{
		height: 100%;
	}
	body{
		margin:0px;
	}
	#title{
		background-color:#555;
		width:100%;
		height:80px;
		overflow:hidden;
		display:block;
		text-decoration: none;
	}
	h1{	
    	color:#fff;
    	padding:0px 20px;
	}
	canvas{
		background-color: #f1f1f1;
		display:inline-block;
		float:left;
		margin-bottom: 10px;
		margin-right:0px;
	}
	table{
		border: none;
		border-collapse: collapse;
	}
	#line{
		border-bottom: 1px solid black;
		border-collapse: collapse;
	}
	#line>td>input{
		margin:4px 0px;
	}
	#top{
		display:inline-block;
	}
	#top>div{
		display:flex;
	}
	#top>div>*{
		margin-top:0px;
		margin-bottom:27px;
	}
	#top>div>*:not(:first-child){
		margin-left:auto;
	}
	#top>div>*:not(:last-child){
		margin-right:auto;
	}
	#bottom{
		max-width:500px;
	}
	#rleArea{
		margin:0px auto;
	}
	button{
		height:30px;
		background-color:#f1f1f1;
		border:1px solid #000;
		outline:none;
		padding-top:5px;
	}
	button:hover{
		background-color:#ddd;
	}
	#b0{
		outline: 1px solid #000;
		display:flex;
		justify-content: space-between;
	}
	#draw{
		border-right:none;
	}
	#undo{
		width: 170px;
		display: flex;
		justify-content: space-between;
	}
	#mbtn{
		margin:5px 0px;
		display: inline;
	}
	#menu1{
		margin:0px 5px;
		padding: 8px;
		display: none;
		width:auto;
		border:1px solid #000;
	}
	#arrow1{
		display: inline;
	}
	#big{
		margin: 5px;
		float: right;
	}
	#percent{
		display: inline-block;
		width: 40px;
	}
	#gens{
		margin: 4px 0px;
	}
	#error{
		height: 20px;
		color: #f00;
		background-color:#fff;
	}
	
	#dropdown {
	  position: relative;
	  display: inline-block;
	}
	
	#dropbtn{
		min-width:50px;
		padding:6px 8px;
	}
	
	#dropdown-content {
	  display: none;
	  width:100%;
	  min-width:50px;
	  position: absolute;
	  background-color: #f9f9f9;
	  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
	  z-index: 1;
	}
	
	#dropdown-content div {
	  color: black;
	  padding: 6px 8px;
	  text-decoration: none;
	  display: block;
	  border:1px solid black;
	  border-top:none;
	}
	
	#dropdown:hover #dropdown-content {
	  display: block;
	}
	#dropdown-content div:hover{
		background-color:#ddd;
	}
	table{
		width:100%;
	}
	#rule,#zoom,#pause{
		float:right;
	}
	#tab{
		margin-left:20px;
	}
</style>
</head>
<body>
<a id="title" href="../">
	<h1>Silver Simulations</h1>
</a>
<div id="content">
	<canvas oncontextmenu="return false" id="ourCanvas" tabindex="1"></canvas>

	<div id="top">
		<div>
			<div id="b0">
				<button id="draw" onclick="draw()">Draw</button>
				<div id="dropdown">
				  <button id="dropbtn">Auto</button>
				  <div id="dropdown-content">
					<div onclick="drawState(0)">0</div>
					<div onclick="drawState(1)">1</div>
				  </div>
				</div>
			</div>
			<button id="b1" onclick="move()">Move</button>
			<button onclick="view()">Fit View</button>
		</div>
		<div>
			<button onclick="start()">Start/Stop</button>
			<button onclick="next(1)">Next Generation</button>
			<button onclick="rand()">Randomize</button>
		</div>
		<div>
			<button id="b2" onclick="select()">Select</button>
			<button onclick="copy()">Copy</button>
			<button onclick="cut()">Cut</button>
			<button id="b3" onclick="paste()">Paste</button>
			<button onclick="wipe()">Clear</button>
		</div>
		<div>
			<div id="gens">Generation 0.</div>
			<div id="undo">
				<button onclick="undo()">Undo</button>
				<button onclick="redo()">Redo</button>
				<button onclick="restart()">Restart</button>
			</div>
		</div>
	</div>
	<br>
	<input type="checkbox" id="xloop" onclick="next(0)">Horizonal Loop
	<input type="checkbox" id="yloop" onclick="next(0)">Virtical Loop
	<br>

	<div id="error"></div>
	<div id="bottom">
		<table>
			<tr id="line">
				<td>Zoom</td>
				<td><input type="text" id="zoom" placeholder="ratio(decimal)"></td>
			</tr>
			<tr id="line">
				<td>Rule</td>
				<td><input type="text" id="rule" placeholder="S#/B#/G#"></td>
			</tr>
			<tr id="line">
				<td>Interval Between Generations</td>
				<td><input type="text" id="pause" placeholder="time(ms)"></td>
			</tr>
		</table>

		<button onclick="menu(1)" id="mbtn"><div id="arrow1">&#x27A1</div> Advanced Menu:</button>
		<div id="menu1">
			<button onclick="grid()">Toggle Grid</button>
			<br><b>Randomize Options</b>
			<br>Density of Live Cells:
			<br><div id="percent">50%</div><input type="range" min="0" max="100" value="50" id="density"></input>
			<br>Symmetries:
			<br><input type="radio" name="symmetries" id="c1" checked></input>C1
			<br><input type="radio" name="symmetries" id="d4"></input>D_4+
			<br><b>Search Options:</b>
			<br><table>
				<tr>
					<td>Oscillator Periods Skipped:</td>
					<td><input type="text" id="period" placeholder="eg. 2,6,9"></td>
				</tr>
			</table>
		<p>*To search for an oscillator of a certain period, add common periods that you want skip over. For example, to find period 5 oscillators, put in "2,3,4" and any higher occilators which occur commonly, as long as they are not a multiple of the desired period. I reccomend turning on the virtical and horizonal loop options when searching in a rule with spaceships</p>
		</div>
		<button id="big" onclick="save()">Save Changes</button>
	</div>
	<br>
	<br>
	<br>

	<div id="rleArea">
		<b>RLE</b>
		<button onclick="rle(0)">Import</button>
		<button onclick="rle(1)">Export</button>
		<button onclick="rle(2)">Clear</button>
		<button onclick="rle(3)">Copy</button>
		<br>
		<textarea id="rle" rows="10" cols="36"></textarea>
	</div>

	<p>This is a simulator for outer-totalistic, generations, and non-isotropic 
	rules made with HTML5, CSS, and Javascript. </p>

	<p>When in select mode, select an area by clicking then dragging the edges.
	Randomize, clear, and copy will only affect the highlighted area. Clicking
	paste once will show you the copied pattern and clicking paste again will
	place the pattern. Restart will put the simulation in the state before it was played.</p>

	<p>Keyboard Controls:</p>
	<div id="tab">
	<p>Space to start/stop</p>
	<p>[n] to play next generation</p>
	<p>Arrow Keys to navigate</p>
	<p>Delete to clear</p>
	<p>[i] to zoom in</p>
	<p>[o] to zoom out</p>
	<p>[d] to enter draw mode</p>
	<p>[m] to enter move mode</p>
	<p>[s] to enter select mode</p>
	<p>Ctrl-[x] to cut</p>
	<p>Ctrl-[c] to copy</p>
	<p>Ctrl-[v] to paste</p>
	</div>
</div>
<script src="CAsim.js"></script>
</body>
</html>